<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>calender2020</title>
    <style>
        :root {
            --primary-color: #E50914; /* Netflix Red */
            --secondary-color: #F4F4F4; /* Light Gray */
            --background-color: #141414; /* Dark Gray */
            --card-background: #222222; /* Slightly Lighter Dark Gray */
            --text-color: #FFFFFF; /* White */
            --button-hover: #CC0812;
            --seat-available: #444;
            --seat-selected: #007bff; /* Blue for selected */
            --seat-occupied: #888; /* Gray for occupied */
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            padding: 20px;
        }

        #app {
            max-width: 1200px;
            margin: 0 auto;
            background-color: var(--background-color);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
            border-radius: 8px;
            overflow: hidden;
        }

        header {
            background-color: var(--primary-color);
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 3px solid #b30710;
        }

        header h1 {
            color: var(--text-color);
            margin: 0;
            font-size: 2.2em;
        }

        nav button {
            background-color: transparent;
            color: var(--text-color);
            border: 2px solid var(--text-color);
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s, color 0.3s;
        }

        nav button:hover {
            background-color: var(--text-color);
            color: var(--primary-color);
        }

        main {
            padding: 30px;
        }

        .view {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .view.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: var(--primary-color);
            margin-bottom: 25px;
            text-align: center;
            font-size: 2em;
        }

        .movie-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .movie-card {
            background-color: var(--card-background);
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .movie-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.5);
        }

        .movie-card img {
            width: 100%;
            height: 380px;
            object-fit: cover;
            display: block;
            border-bottom: 1px solid #333;
        }

        .movie-card-content {
            padding: 20px;
            display: flex;
            flex-direction: column;
            flex-grow: 1;
        }

        .movie-card h3 {
            margin-top: 0;
            margin-bottom: 10px;
            color: var(--text-color);
            font-size: 1.5em;
        }

        .movie-card p {
            font-size: 0.9em;
            color: var(--secondary-color);
            flex-grow: 1;
            margin-bottom: 15px;
        }

        .movie-card button {
            background-color: var(--primary-color);
            color: var(--text-color);
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            transition: background-color 0.3s;
            width: 100%;
        }

        .movie-card button:hover {
            background-color: var(--button-hover);
        }

        .movie-detail-container {
            display: flex;
            gap: 40px;
            padding: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .movie-detail-container img {
            width: 100%;
            max-width: 350px;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
        }

        .movie-detail-info {
            flex: 1;
            min-width: 300px;
            max-width: 600px;
        }

        .movie-detail-info h3 {
            font-size: 2.8em;
            color: var(--primary-color);
            margin-bottom: 15px;
        }

        .movie-detail-info p {
            margin-bottom: 15px;
            color: var(--secondary-color);
        }

        .movie-detail-info strong {
            color: var(--text-color);
        }

        .movie-detail-info .showtimes {
            margin-top: 25px;
            margin-bottom: 25px;
        }

        .movie-detail-info .showtimes h4 {
            color: var(--text-color);
            font-size: 1.4em;
            margin-bottom: 15px;
        }

        .movie-detail-info .showtime-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }

        .movie-detail-info .showtime-buttons button {
            background-color: var(--card-background);
            color: var(--text-color);
            border: 1px solid var(--primary-color);
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1em;
            transition: background-color 0.3s, border-color 0.3s;
        }

        .movie-detail-info .showtime-buttons button:hover {
            background-color: var(--primary-color);
        }

        .movie-detail-info .showtime-buttons button.selected {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
        }

        .booking-summary {
            text-align: center;
            font-size: 1.2em;
            margin-bottom: 30px;
            padding: 15px;
            background-color: var(--card-background);
            border-radius: 8px;
        }

        .screen {
            width: 80%;
            max-width: 600px;
            height: 40px;
            background-color: #555;
            margin: 40px auto 30px auto;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            color: var(--text-color);
            letter-spacing: 2px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
        }

        .seat-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            gap: 10px;
            width: 80%;
            max-width: 600px;
            margin: 0px auto 40px auto;
        }

        .seat {
            background-color: var(--seat-available);
            height: 40px;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            cursor: pointer;
            transition: background-color 0.2s, transform 0.1s;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        }

        .seat:hover:not(.occupied) {
            transform: scale(1.05);
            background-color: #666;
        }

        .seat.selected {
            background-color: var(--seat-selected);
            color: white;
        }

        .seat.occupied {
            background-color: var(--seat-occupied);
            cursor: not-allowed;
            opacity: 0.7;
        }

        .primary-button {
            display: block;
            width: fit-content;
            margin: 30px auto 0 auto;
            background-color: var(--primary-color);
            color: var(--text-color);
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.2em;
            transition: background-color 0.3s;
        }

        .primary-button:hover {
            background-color: var(--button-hover);
        }

        .back-button {
            background: none;
            border: none;
            color: var(--secondary-color);
            font-size: 1.1em;
            cursor: pointer;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            transition: color 0.3s;
        }

        .back-button:hover {
            color: var(--primary-color);
        }

        #confirmationDetails {
            background-color: var(--card-background);
            padding: 30px;
            border-radius: 8px;
            text-align: center;
            font-size: 1.1em;
        }

        #confirmationDetails p {
            margin-bottom: 10px;
        }

        #confirmationView p:last-of-type {
            margin-top: 30px;
            font-size: 1.3em;
            color: var(--primary-color);
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                padding: 15px;
            }

            header h1 {
                margin-bottom: 15px;
                font-size: 1.8em;
            }

            main {
                padding: 20px;
            }

            .movie-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }

            .movie-card img {
                height: 300px;
            }

            .movie-detail-container {
                flex-direction: column;
                align-items: center;
            }

            .movie-detail-info {
                text-align: center;
            }

            .showtime-buttons {
                justify-content: center;
            }

            .seat-grid, .screen {
                width: 95%;
            }

            .seat {
                height: 35px;
                font-size: 0.7em;
            }
        }

        @media (max-width: 480px) {
            body {
                padding: 10px;
            }

            header h1 {
                font-size: 1.5em;
            }

            .movie-card img {
                height: 250px;
            }

            .seat-grid {
                grid-template-columns: repeat(5, 1fr); /* More compact on very small screens */
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <header>
            <h1>calender2020</h1>
            <nav>
                <button id="homeBtn">Home</button>
            </nav>
        </header>

        <main>
            <section id="horseview" class="view active">
                <h2>Now Showing</h2>
                <div id="movieList" class="movie-grid">
                    <!-- Movie cards will be rendered here by JS -->
                </div>
            </section>

            <section id="movieDetailView" class="view">
                <button class="back-button" data-target-view="home">← Back to Movies</button>
                <div id="movieDetails" class="movie-detail-container">
                    <!-- Movie details will be rendered here by JS -->
                </div>
            </section>

            <section id="bookingView" class="view">
                <button class="back-button" data-target-view="details">← Back to Details</button>
                <h2>Select Your Seats</h2>
                <div id="bookingSummary" class="booking-summary"></div>
                <div id="screen" class="screen">Screen</div>
                <div id="seatGrid" class="seat-grid">
                    <!-- Seats will be rendered here by JS -->
                </div>
                <button id="proceedToCheckoutBtn" class="primary-button">Proceed to Checkout</button>
            </section>

            <section id="confirmationView" class="view">
                <button class="back-button" data-target-view="home">← Back to Home</button>
                <h2>Booking Confirmed!</h2>
                <div id="confirmationDetails">
                    <!-- Confirmation details will be rendered here by JS -->
                </div>
                <p>Thank you for choosing calender2020!</p>
            </section>
        </main>
        <div style="padding: 20px; text-align: center; background-color: var(--card-background); border-top: 1px solid #333; border-bottom-left-radius: 8px; border-bottom-right-radius: 8px;">
            <h3 style="color: var(--primary-color); margin-bottom: 15px;">App Soundtrack</h3>
            <audio controls loop style="width: 100%; max-width: 400px;">
                <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
            </audio>
        </div>
    </div>

    <script>
        const movies = [
            {
                id: 'm1',
                title: 'The Great Adventure',
                genre: 'Action, Adventure',
                description: 'A thrilling journey to discover ancient treasures hidden deep within forgotten lands. Join a brave team of explorers as they face perilous traps, mythical creatures, and solve ancient riddles in a race against time.',
                imageUrl: 'https://via.placeholder.com/300x450/FF5733/FFFFFF?text=Movie+1',
                trailerUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ', // Placeholder
                duration: '2h 15min',
                rating: 'PG-13',
                showtimes: ['10:00 AM', '01:30 PM', '04:00 PM', '07:30 PM']
            },
            {
                id: 'm2',
                title: 'Mystery of the Old House',
                genre: 'Thriller, Horror',
                description: 'A group of friends gets trapped in an old, abandoned house with a dark secret. As night falls, strange occurrences begin to terrorize them, revealing the sinister history of the estate.',
                imageUrl: 'https://via.placeholder.com/300x450/33AFFF/FFFFFF?text=Movie+2',
                trailerUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
                duration: '1h 50min',
                rating: 'R',
                showtimes: ['11:00 AM', '02:00 PM', '05:00 PM', '08:00 PM']
            },
            {
                id: 'm3',
                title: 'Cosmic Voyage',
                genre: 'Sci-Fi, Drama',
                description: 'Humanity\'s last hope lies in a perilous journey across the galaxy to a new habitable planet. A lone astronaut faces unimaginable challenges and loneliness as he carries the fate of mankind on his shoulders.',
                imageUrl: 'https://via.placeholder.com/300x450/C70039/FFFFFF?text=Movie+3',
                trailerUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
                duration: '2h 30min',
                rating: 'PG',
                showtimes: ['09:30 AM', '12:45 PM', '03:45 PM', '06:45 PM']
            },
            {
                id: 'm4',
                title: 'Enchanted Forest',
                genre: 'Fantasy, Family',
                description: 'A young hero embarks on a quest through a magical forest to save a mythical creature. Along the way, he encounters whimsical characters and discovers the true meaning of bravery and friendship.',
                imageUrl: 'https://via.placeholder.com/300x450/DAF7A6/333333?text=Movie+4',
                trailerUrl: 'https://www.youtube.com/embed/dQw4w9WgXcQ',
                duration: '1h 40min',
                rating: 'G',
                showtimes: ['10:30 AM', '01:00 PM', '03:30 PM', '06:00 PM']
            }
        ];

        let currentMovie = null;
        let selectedShowtime = null;
        const selectedSeats = new Set();
        const occupiedSeats = new Set(['A3', 'B5', 'C1', 'D7', 'E2', 'D10']); // Simulate some occupied seats

        const appDiv = document.getElementById('app');
        const horseview = document.getElementById('horseview');
        const movieDetailView = document.getElementById('movieDetailView');
        const bookingView = document.getElementById('bookingView');
        const confirmationView = document.getElementById('confirmationView');

        const movieListDiv = document.getElementById('movieList');
        const movieDetailsDiv = document.getElementById('movieDetails');
        const bookingSummaryDiv = document.getElementById('bookingSummary');
        const seatGridDiv = document.getElementById('seatGrid');
        const confirmationDetailsDiv = document.getElementById('confirmationDetails');

        const homeBtn = document.getElementById('homeBtn');
        const proceedToCheckoutBtn = document.getElementById('proceedToCheckoutBtn');

        function showView(viewId) {
            document.querySelectorAll('.view').forEach(view => {
                view.classList.remove('active');
            });
            document.getElementById(viewId).classList.add('active');
        }

        function renderMovies() {
            movieListDiv.innerHTML = '';
            movies.forEach(movie => {
                const movieCard = document.createElement('div');
                movieCard.classList.add('movie-card');
                movieCard.dataset.movieId = movie.id;

                movieCard.innerHTML = `
                    <img src="${movie.imageUrl}" alt="${movie.title}">
                    <div class="movie-card-content">
                        <h3>${movie.title}</h3>
                        <p><strong>Genre:</strong> ${movie.genre}<br>
                           <strong>Duration:</strong> ${movie.duration}<br>
                           <strong>Rating:</strong> ${movie.rating}</p>
                        <button>View Details</button>
                    </div>
                `;
                movieCard.querySelector('button').addEventListener('click', () => viewMovieDetails(movie.id));
                movieListDiv.appendChild(movieCard);
            });
            showView('horseview');
        }

        function viewMovieDetails(movieId) {
            currentMovie = movies.find(m => m.id === movieId);
            if (!currentMovie) return;

            movieDetailsDiv.innerHTML = `
                <img src="${currentMovie.imageUrl}" alt="${currentMovie.title}">
                <div class="movie-detail-info">
                    <h3>${currentMovie.title}</h3>
                    <p><strong>Genre:</strong> ${currentMovie.genre}</p>
                    <p><strong>Duration:</strong> ${currentMovie.duration}</p>
                    <p><strong>Rating:</strong> ${currentMovie.rating}</p>
                    <p>${currentMovie.description}</p>
                    <div class="showtimes">
                        <h4>Available Showtimes:</h4>
                        <div class="showtime-buttons">
                            ${currentMovie.showtimes.map(time => `<button data-time="${time}">${time}</button>`).join('')}
                        </div>
                    </div>
                </div>
            `;

            movieDetailsDiv.querySelectorAll('.showtime-buttons button').forEach(button => {
                button.addEventListener('click', (event) => {
                    // Remove selected class from all buttons first
                    movieDetailsDiv.querySelectorAll('.showtime-buttons button').forEach(btn => btn.classList.remove('selected'));
                    // Add selected class to the clicked button
                    event.target.classList.add('selected');
                    selectedShowtime = event.target.dataset.time;
                    proceedToBooking();
                });
            });

            showView('movieDetailView');
        }

        function proceedToBooking() {
            if (!currentMovie || !selectedShowtime) {
                alert('Please select a movie and a showtime.');
                return;
            }

            selectedSeats.clear(); // Clear previous selections
            bookingSummaryDiv.innerHTML = `Booking for: <strong>${currentMovie.title}</strong> at <strong>${selectedShowtime}</strong>`;
            renderSeats();
            showView('bookingView');
        }

        function renderSeats() {
            seatGridDiv.innerHTML = '';
            const totalRows = 5;
            const seatsPerRow = 10;
            const seatLabelMap = ['A', 'B', 'C', 'D', 'E'];

            for (let row = 0; row < totalRows; row++) {
                for (let col = 0; col < seatsPerRow; col++) {
                    const seatId = `${seatLabelMap[row]}${col + 1}`;
                    const seatDiv = document.createElement('div');
                    seatDiv.classList.add('seat');
                    seatDiv.textContent = seatId;
                    seatDiv.dataset.seatId = seatId;

                    if (occupiedSeats.has(seatId)) {
                        seatDiv.classList.add('occupied');
                    } else if (selectedSeats.has(seatId)) {
                        seatDiv.classList.add('selected');
                    }

                    seatDiv.addEventListener('click', () => {
                        if (!seatDiv.classList.contains('occupied')) {
                            if (selectedSeats.has(seatId)) {
                                selectedSeats.delete(seatId);
                                seatDiv.classList.remove('selected');
                            } else {
                                selectedSeats.add(seatId);
                                seatDiv.classList.add('selected');
                            }
                        }
                    });
                    seatGridDiv.appendChild(seatDiv);
                }
            }
        }

        function proceedToConfirmation() {
            if (selectedSeats.size === 0) {
                alert('Please select at least one seat.');
                return;
            }

            const sortedSeats = Array.from(selectedSeats).sort((a, b) => {
                const rowA = a.charCodeAt(0);
                const rowB = b.charCodeAt(0);
                if (rowA !== rowB) return rowA - rowB;
                return parseInt(a.substring(1)) - parseInt(b.substring(1));
            });

            confirmationDetailsDiv.innerHTML = `
                <p><strong>Movie:</strong> ${currentMovie.title}</p>
                <p><strong>Showtime:</strong> ${selectedShowtime}</p>
                <p><strong>Seats:</strong> ${sortedSeats.join(', ')}</p>
                <p><strong>Total Tickets:</strong> ${selectedSeats.size}</p>
                <p><strong>Price:</strong> $${(selectedSeats.size * 12.50).toFixed(2)}</p>
            `;
            showView('confirmationView');

            // Optionally, mark seats as occupied after confirmation (for a real app, this would be server-side)
            selectedSeats.forEach(seatId => occupiedSeats.add(seatId));
            currentMovie = null;
            selectedShowtime = null;
            selectedSeats.clear();
        }

        // Event Listeners
        homeBtn.addEventListener('click', () => {
            currentMovie = null;
            selectedShowtime = null;
            selectedSeats.clear();
            renderMovies();
        });

        proceedToCheckoutBtn.addEventListener('click', proceedToConfirmation);

        document.querySelectorAll('.back-button').forEach(button => {
            button.addEventListener('click', (event) => {
                const targetView = event.target.dataset.targetView;
                if (targetView === 'home') {
                    currentMovie = null;
                    selectedShowtime = null;
                    selectedSeats.clear();
                    renderMovies();
                } else if (targetView === 'details') {
                    // Re-render details to show the previously selected showtime if any
                    viewMovieDetails(currentMovie.id);
                }
            });
        });

        // Initialize the app
        document.addEventListener('DOMContentLoaded', renderMovies);
    </script>
</body>
</html>